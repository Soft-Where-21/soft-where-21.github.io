# Tmux 快速上手——开启多窗口“新时代”

> **摘要**：在使用 Linux 服务器时，你一定遇到过这种“绝望”：耗时 5 小时的训练任务跑到了 99%，结果网络闪断 SSH 掉线，任务直接腰斩；或者为了看日志、改代码、查进程，你不得不反复开启 3 个终端窗口。
>
> **Tmux (Terminal Multiplexer)** 终端复用器就是为此而生的。它让你的会话在服务器后台永不掉线，并赋予你自由切割屏幕的能力。
>
> 参考快速上手视频：https://www.youtube.com/watch?v=nTqu6w2wc68&t=659s
>
> 官方文档：终端键入

```bash
man tmux
```

> 安装：

```bash
sudo apt update
sudo apt install tmux
```

---

## 1. 核心价值：为什么它是程序员的“神器”？

1.  **进程持久化**：即使本地电脑关机、断网，服务器端的程序依然在 Tmux 会话中持续运行。
2.  **优雅的分屏**：在一个屏幕内同时观察代码、日志、性能监控，效率翻倍。
3.  **多端同步**：在公司没干完活，直接 Detach（分离）；回到家 SSH 连上服务器 Attach（附加），环境和光标停留位置一模一样。

---

## 2. 基础入门：三步走大法

Tmux 的所有指令都需要一个“前缀键”（Prefix）来激活，默认是 **`Ctrl + b`**。
操作逻辑：**先按下 `Ctrl + b`，放开，再快速按对应的功能键。**

### 第一步：会话管理（Session）

在终端（而非 Tmux 内部）输入：

```bash
tmux new -s work    # 创建一个名为 "work" 的新会话
tmux ls             # 查看后台有哪些会话在运行
tmux a -t work      # 重新连接（Attach）到 work 会话
tmux kill-session -t work  # 彻底杀死并关闭该会话
```

### 第二步：分屏（Pane 操作）

进入 Tmux 窗口后，使用前缀键 Ctrl + b：

% ：左右平分屏幕。

" ：上下平分屏幕。

方向键 ：在各个窗格间切换光标。

z ：【神技】 最大化当前窗格（再按一次恢复），适合查阅长日志。

x ：关闭当前窗格。

### 第三步：离场（Detach）

Ctrl + b 然后按 d ：最关键的操作。它让你退出当前视角回到主终端，但保持后台任务继续运行。

## 3.进阶：如何滚屏与翻页？

刚使用tmux最困惑的问题是：“用了 Tmux 之后，我没办法用鼠标滚轮看上面的日志了！”

这是因为 Tmux 接管了终端。你需要进入 拷贝模式（Copy Mode）：

按 Ctrl + b 然后按 [ 进入拷贝模式。

现在你可以用 方向键 或 PageUp/PageDown 自由翻阅历史日志。

按 q 退出该模式，回到实时输出界面。
