"use strict";(globalThis.webpackChunksoft_where=globalThis.webpackChunksoft_where||[]).push([[2184],{8660(e,t,r){r.r(t),r.d(t,{default:()=>s});var a=r(6540),i=r(4848);function n(e){const t=e.trim().match(/^#?([\da-fA-F]{3}|[\da-fA-F]{6})$/);if(!t)return null;let r=t[1].toLowerCase();return 3===r.length&&(r=r.split("").map(e=>e+e).join("")),`#${r}`}function o(e,t,r){const a=e=>Math.max(0,Math.min(255,Math.round(e))).toString(16).padStart(2,"0");return`#${a(e)}${a(t)}${a(r)}`}function l(e){return""===e.trim()?null:/^-?\d+$/.test(e.trim())?Number(e.trim()):Number.NaN}function s(){const[e,t]=(0,a.useState)("#3b82f6"),[r,s]=(0,a.useState)("hex"),[d,u]=(0,a.useState)(""),[p,h]=(0,a.useState)("#3B82F6"),[c,f]=(0,a.useState)({r:"59",g:"130",b:"246"}),[g,x]=(0,a.useState)({h:"217",s:"91",l:"60"}),[b,m]=(0,a.useState)({x:0,y:0}),v=(0,a.useRef)(null),y=(0,a.useRef)("external"),S=(0,a.useMemo)(()=>{const t=function(e){const t=n(e);if(!t)return null;const r=Number.parseInt(t.slice(1),16);return{r:r>>16&255,g:r>>8&255,b:255&r}}(e);if(!t)return null;return{rgb:t,hsl:function(e,t,r){const a=e/255,i=t/255,n=r/255,o=Math.max(a,i,n),l=Math.min(a,i,n),s=o-l;let d=0;const u=(o+l)/2,p=0===s?0:s/(1-Math.abs(2*u-1));return 0!==s&&(d=o===a?(i-n)/s%6:o===i?(n-a)/s+2:(a-i)/s+4,d*=60,d<0&&(d+=360)),{h:Math.round(d),s:Math.round(100*p),l:Math.round(100*u)}}(t.r,t.g,t.b)}},[e]);(0,a.useEffect)(()=>{S&&("hex-input"!==y.current&&h(e.toUpperCase()),y.current="external",f({r:String(S.rgb.r),g:String(S.rgb.g),b:String(S.rgb.b)}),x({h:String(S.hsl.h),s:String(S.hsl.s),l:String(S.hsl.l)}))},[e,S]),(0,a.useEffect)(()=>{const e=v.current;if(!e)return;const t=e.getContext("2d");if(!t)return;const r=e.width,a=e.height,i=t.createLinearGradient(0,0,r,0);i.addColorStop(0,"#ff0000"),i.addColorStop(1/6,"#ffff00"),i.addColorStop(2/6,"#00ff00"),i.addColorStop(.5,"#00ffff"),i.addColorStop(4/6,"#0000ff"),i.addColorStop(5/6,"#ff00ff"),i.addColorStop(1,"#ff0000"),t.fillStyle=i,t.fillRect(0,0,r,a);const n=t.createLinearGradient(0,0,r,0);n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=n,t.fillRect(0,0,r,a);const o=t.createLinearGradient(0,0,0,a);o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,"rgba(0,0,0,1)"),t.fillStyle=o,t.fillRect(0,0,r,a)},[]);const R=(0,a.useCallback)((e,r)=>{const a=v.current;if(!a)return;const i=a.getContext("2d");if(!i)return;const n=a.getBoundingClientRect(),l=Math.round((e-n.left)*a.width/n.width),s=Math.round((r-n.top)*a.height/n.height),d=Math.max(0,Math.min(a.width-1,l)),p=Math.max(0,Math.min(a.height-1,s)),h=i.getImageData(d,p,1,1).data;m({x:d,y:p}),u(""),y.current="external",t(o(h[0],h[1],h[2]))},[]),C=(e,r)=>{const a={...c,[e]:r};f(a);const i=l(a.r),n=l(a.g),s=l(a.b);[i,n,s].some(e=>null===e)?u("RGB \u8303\u56f4\uff1aR/G/B \u5747\u4e3a 0-255 \u7684\u6574\u6570"):[i,n,s].some(e=>Number.isNaN(e)||e<0||e>255)?u("RGB \u8d85\u51fa\u8303\u56f4\uff1aR/G/B \u9700\u5728 0-255"):(u(""),y.current="external",t(o(i,n,s)))},j=(e,r)=>{const a={...g,[e]:r};x(a);const i=l(a.h),n=l(a.s),s=l(a.l);if([i,n,s].some(e=>null===e))return void u("HSL \u8303\u56f4\uff1aH 0-360\uff0cS/L 0-100\uff08\u6574\u6570\uff09");if(Number.isNaN(i)||Number.isNaN(n)||Number.isNaN(s))return void u("HSL \u8f93\u5165\u65e0\u6548\uff0c\u8bf7\u8f93\u5165\u6574\u6570");if(i<0||i>360||n<0||n>100||s<0||s>100)return void u("HSL \u8d85\u51fa\u8303\u56f4\uff1aH 0-360\uff0cS/L 0-100");u("");const d=function(e,t,r){const a=(e%360+360)%360,i=t/100,n=r/100,o=(1-Math.abs(2*n-1))*i,l=o*(1-Math.abs(a/60%2-1)),s=n-o/2;let d=0,u=0,p=0;return a<60?(d=o,u=l):a<120?(d=l,u=o):a<180?(u=o,p=l):a<240?(u=l,p=o):a<300?(d=l,p=o):(d=o,p=l),{r:Math.round(255*(d+s)),g:Math.round(255*(u+s)),b:Math.round(255*(p+s))}}(i,n,s);y.current="external",t(o(d.r,d.g,d.b))},w=b.x/360*100+"%",M=b.y/200*100+"%";return(0,i.jsxs)("div",{style:{padding:18,display:"grid",gap:14},children:[(0,i.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[(0,i.jsx)("input",{type:"color",value:S?e:"#000000",onChange:e=>{u(""),y.current="external",t(n(e.target.value)||"#000000")},style:{width:52,height:38,border:"none",background:"transparent",cursor:"pointer"}}),(0,i.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[{id:"hex",label:"HEX"},{id:"rgb",label:"RGB"},{id:"hsl",label:"HSL"}].map(e=>(0,i.jsx)("button",{type:"button",onClick:()=>{u(""),s(e.id)},style:{border:"1px solid var(--ifm-color-emphasis-200)",background:r===e.id?"var(--ifm-color-emphasis-200)":"var(--ifm-card-background-color)",borderRadius:8,padding:"6px 10px",cursor:"pointer",fontWeight:600},children:e.label},e.id))})]}),"hex"===r?(0,i.jsx)("input",{value:p,onChange:e=>(e=>{h(e);const r=n(e);r?(u(""),y.current="hex-input",t(r)):u("HEX \u683c\u5f0f\u65e0\u6548\uff0c\u652f\u6301 #RGB \u6216 #RRGGBB")})(e.target.value),placeholder:"#RRGGBB",style:{width:220,maxWidth:"100%",padding:"10px 12px",borderRadius:10,border:"1px solid var(--ifm-color-emphasis-200)",background:"var(--ifm-background-color)",color:"var(--ifm-font-color-base)",fontFamily:"var(--ifm-font-family-monospace)"}}):null,"rgb"===r?(0,i.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[(0,i.jsx)("input",{type:"number",min:0,max:255,step:1,value:c.r,onChange:e=>C("r",e.target.value),placeholder:"R",style:{width:90,padding:"10px 12px",borderRadius:10,border:"1px solid var(--ifm-color-emphasis-200)"}}),(0,i.jsx)("input",{type:"number",min:0,max:255,step:1,value:c.g,onChange:e=>C("g",e.target.value),placeholder:"G",style:{width:90,padding:"10px 12px",borderRadius:10,border:"1px solid var(--ifm-color-emphasis-200)"}}),(0,i.jsx)("input",{type:"number",min:0,max:255,step:1,value:c.b,onChange:e=>C("b",e.target.value),placeholder:"B",style:{width:90,padding:"10px 12px",borderRadius:10,border:"1px solid var(--ifm-color-emphasis-200)"}})]}):null,"hsl"===r?(0,i.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[(0,i.jsx)("input",{type:"number",min:0,max:360,step:1,value:g.h,onChange:e=>j("h",e.target.value),placeholder:"H",style:{width:90,padding:"10px 12px",borderRadius:10,border:"1px solid var(--ifm-color-emphasis-200)"}}),(0,i.jsx)("input",{type:"number",min:0,max:100,step:1,value:g.s,onChange:e=>j("s",e.target.value),placeholder:"S",style:{width:90,padding:"10px 12px",borderRadius:10,border:"1px solid var(--ifm-color-emphasis-200)"}}),(0,i.jsx)("input",{type:"number",min:0,max:100,step:1,value:g.l,onChange:e=>j("l",e.target.value),placeholder:"L",style:{width:90,padding:"10px 12px",borderRadius:10,border:"1px solid var(--ifm-color-emphasis-200)"}})]}):null,(0,i.jsxs)("div",{style:{fontSize:"0.82rem",opacity:.75},children:["hex"===r?"HEX \u8303\u56f4\uff1a#RGB \u6216 #RRGGBB\uff08\u5341\u516d\u8fdb\u5236 0-9 / A-F\uff09":null,"rgb"===r?"RGB \u8303\u56f4\uff1aR/G/B \u5747\u4e3a 0-255 \u7684\u6574\u6570":null,"hsl"===r?"HSL \u8303\u56f4\uff1aH 0-360\uff0cS/L 0-100\uff08\u5355\u4f4d\uff1a%\uff09":null]}),d?(0,i.jsx)("div",{style:{fontSize:"0.86rem",color:"var(--ifm-color-danger)"},children:d}):null,(0,i.jsx)("div",{style:{height:96,borderRadius:12,border:"1px solid var(--ifm-color-emphasis-200)",background:S?e:"#000"}}),S?(0,i.jsxs)("div",{style:{display:"grid",gap:8,fontFamily:"var(--ifm-font-family-monospace)"},children:[(0,i.jsxs)("div",{children:["HEX: ",e.toUpperCase()]}),(0,i.jsxs)("div",{children:["RGB: ",S.rgb.r,", ",S.rgb.g,", ",S.rgb.b]}),(0,i.jsxs)("div",{children:["HSL: ",S.hsl.h,", ",S.hsl.s,"%, ",S.hsl.l,"%"]})]}):(0,i.jsx)("div",{style:{opacity:.7},children:"\u8f93\u5165\u683c\u5f0f\u65e0\u6548\uff0c\u8bf7\u6309\u8303\u56f4\u63d0\u793a\u68c0\u67e5\u3002"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{fontSize:"0.85rem",opacity:.7,marginBottom:8},children:"\u53d6\u8272\u533a\uff08\u53ef\u70b9\u51fb\u6216\u6309\u4f4f\u62d6\u52a8\uff09"}),(0,i.jsxs)("div",{style:{position:"relative",width:"100%",maxWidth:520},children:[(0,i.jsx)("canvas",{ref:v,width:360,height:200,onPointerDown:e=>R(e.clientX,e.clientY),onPointerMove:e=>{1&~e.buttons||R(e.clientX,e.clientY)},style:{width:"100%",height:"auto",display:"block",borderRadius:12,border:"1px solid var(--ifm-color-emphasis-200)",cursor:"crosshair",touchAction:"none"}}),(0,i.jsx)("div",{style:{position:"absolute",left:w,top:M,width:12,height:12,borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 0 0 1px rgba(0,0,0,.5)",transform:"translate(-50%, -50%)",pointerEvents:"none"}})]})]})]})}}}]);